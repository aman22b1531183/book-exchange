{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\itach\\\\Documents\\\\book-exchange-mern\\\\frontend\\\\src\\\\pages\\\\AdminDashboardPage.js\",\n  _s = $RefreshSig$();\n// frontend/src/pages/AdminDashboardPage.js\nimport React, { useEffect, useState, useCallback } from 'react';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport '../App.css'; // For page-heading, status-message\nimport './AdminDashboard.css'; // We'll update this for styling\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AdminDashboardPage() {\n  _s();\n  const {\n    user,\n    token,\n    isAuthenticated\n  } = useAuth();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [users, setUsers] = useState([]); // <--- NEW STATE for users list\n  const [usersLoading, setUsersLoading] = useState(true); // <--- NEW STATE for users loading\n  const [usersError, setUsersError] = useState(null); // <--- NEW STATE for users error\n\n  useEffect(() => {\n    // Redirect if not authenticated or not an admin\n    if (!isAuthenticated) {\n      navigate('/login'); // Not logged in\n      toast.error('Please log in to view this page.');\n    } else if (!user || !user.isAdmin) {\n      navigate('/'); // Logged in but not admin\n      toast.error('You are not authorized to view this page.');\n    }\n    setLoading(false); // Initial page loading state is done after checks\n  }, [isAuthenticated, user, navigate]);\n\n  // <--- NEW: Fetch All Users Function ---\n  const fetchAllUsers = useCallback(async () => {\n    if (!token || !user || !user.isAdmin) {\n      setUsersLoading(false);\n      setUsersError('Not authorized.');\n      return;\n    }\n    setUsersLoading(true);\n    try {\n      const config = {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      };\n      const {\n        data\n      } = await axios.get('/api/admin/users', config);\n      setUsers(data);\n      setUsersLoading(false);\n    } catch (err) {\n      console.error('Admin: Error fetching all users:', err);\n      const errorMessage = err.response && err.response.data.message ? err.response.data.message : err.message;\n      setUsersError(`Failed to load users: ${errorMessage}`);\n      toast.error(`Admin: Failed to load users: ${errorMessage}`);\n      setUsersLoading(false);\n    }\n  }, [token, user]);\n\n  // <--- NEW: Delete User Function ---\n  const handleDeleteUser = async userIdToDelete => {\n    if (!window.confirm('Are you sure you want to delete this user and all their associated data? This action cannot be undone.')) {\n      return;\n    }\n    if (!token || !user || !user.isAdmin) {\n      toast.error('Not authorized to delete users.');\n      return;\n    }\n    try {\n      const config = {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      };\n      await axios.delete(`/api/admin/users/${userIdToDelete}`, config);\n      toast.success('User deleted successfully!');\n      fetchAllUsers(); // Re-fetch the list to update UI\n    } catch (error) {\n      console.error('Admin: Error deleting user:', error);\n      const errorMessage = error.response && error.response.data.message ? error.response.data.message : error.message;\n      toast.error(`Admin: Failed to delete user: ${errorMessage}`);\n    }\n  };\n  useEffect(() => {\n    if (user && user.isAdmin) {\n      // Only fetch users if user is identified as admin\n      fetchAllUsers();\n    }\n  }, [user, fetchAllUsers]);\n  if (loading || usersLoading) {\n    // Combine overall loading with users loading\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"status-message\",\n      children: \"Loading dashboard...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 16\n    }, this);\n  }\n  if (error || usersError) {\n    // Combine overall errors with users errors\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"status-message error-message\",\n      children: [\"Error: \", error || usersError]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 16\n    }, this);\n  }\n  if (!user || !user.isAdmin) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"status-message error-message\",\n      children: \"Access Denied.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"page-heading\",\n      children: \"Admin Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"status-message\",\n      children: [\"Welcome, Administrator \", user.username, \"!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-sections\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"dashboard-section user-management-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-heading\",\n          children: \"User Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this), users.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"status-message\",\n          children: \"No users found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"admin-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Username\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Admin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: users.map(u => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: u._id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: u.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: u.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: u.isAdmin ? 'Yes' : 'No'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: u._id === user._id ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"admin-cannot-delete\",\n                    children: \"Cannot Delete Self\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 138,\n                    columnNumber: 53\n                  }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleDeleteUser(u._id),\n                    className: \"btn btn-danger btn-sm\",\n                    children: \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 45\n                }, this)]\n              }, u._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 41\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"dashboard-section book-management-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-heading\",\n          children: \"Book Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"List of all books (including unavailable) and controls will go here.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"dashboard-section exchange-management-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-heading\",\n          children: \"Exchange Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Manage all exchange requests, including pending and disputes.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 9\n  }, this);\n}\n_s(AdminDashboardPage, \"VzezvStHEOFcgRRDcOJTiVetmkQ=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = AdminDashboardPage;\nexport default AdminDashboardPage;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboardPage\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","axios","toast","useAuth","useNavigate","jsxDEV","_jsxDEV","AdminDashboardPage","_s","user","token","isAuthenticated","navigate","loading","setLoading","error","setError","users","setUsers","usersLoading","setUsersLoading","usersError","setUsersError","isAdmin","fetchAllUsers","config","headers","Authorization","data","get","err","console","errorMessage","response","message","handleDeleteUser","userIdToDelete","window","confirm","delete","success","className","children","fileName","_jsxFileName","lineNumber","columnNumber","username","length","map","u","_id","email","onClick","_c","$RefreshReg$"],"sources":["C:/Users/itach/Documents/book-exchange-mern/frontend/src/pages/AdminDashboardPage.js"],"sourcesContent":["// frontend/src/pages/AdminDashboardPage.js\r\nimport React, { useEffect, useState, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport '../App.css'; // For page-heading, status-message\r\nimport './AdminDashboard.css'; // We'll update this for styling\r\n\r\nfunction AdminDashboardPage() {\r\n    const { user, token, isAuthenticated } = useAuth();\r\n    const navigate = useNavigate();\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    const [users, setUsers] = useState([]); // <--- NEW STATE for users list\r\n    const [usersLoading, setUsersLoading] = useState(true); // <--- NEW STATE for users loading\r\n    const [usersError, setUsersError] = useState(null); // <--- NEW STATE for users error\r\n\r\n\r\n    useEffect(() => {\r\n        // Redirect if not authenticated or not an admin\r\n        if (!isAuthenticated) {\r\n            navigate('/login'); // Not logged in\r\n            toast.error('Please log in to view this page.');\r\n        } else if (!user || !user.isAdmin) {\r\n            navigate('/'); // Logged in but not admin\r\n            toast.error('You are not authorized to view this page.');\r\n        }\r\n        setLoading(false); // Initial page loading state is done after checks\r\n    }, [isAuthenticated, user, navigate]);\r\n\r\n    // <--- NEW: Fetch All Users Function ---\r\n    const fetchAllUsers = useCallback(async () => {\r\n        if (!token || !user || !user.isAdmin) {\r\n            setUsersLoading(false);\r\n            setUsersError('Not authorized.');\r\n            return;\r\n        }\r\n        setUsersLoading(true);\r\n        try {\r\n            const config = {\r\n                headers: {\r\n                    Authorization: `Bearer ${token}`,\r\n                },\r\n            };\r\n            const { data } = await axios.get('/api/admin/users', config);\r\n            setUsers(data);\r\n            setUsersLoading(false);\r\n        } catch (err) {\r\n            console.error('Admin: Error fetching all users:', err);\r\n            const errorMessage = err.response && err.response.data.message\r\n                ? err.response.data.message\r\n                : err.message;\r\n            setUsersError(`Failed to load users: ${errorMessage}`);\r\n            toast.error(`Admin: Failed to load users: ${errorMessage}`);\r\n            setUsersLoading(false);\r\n        }\r\n    }, [token, user]);\r\n\r\n    // <--- NEW: Delete User Function ---\r\n    const handleDeleteUser = async (userIdToDelete) => {\r\n        if (!window.confirm('Are you sure you want to delete this user and all their associated data? This action cannot be undone.')) {\r\n            return;\r\n        }\r\n        if (!token || !user || !user.isAdmin) {\r\n            toast.error('Not authorized to delete users.');\r\n            return;\r\n        }\r\n        try {\r\n            const config = {\r\n                headers: {\r\n                    Authorization: `Bearer ${token}`,\r\n                },\r\n            };\r\n            await axios.delete(`/api/admin/users/${userIdToDelete}`, config);\r\n            toast.success('User deleted successfully!');\r\n            fetchAllUsers(); // Re-fetch the list to update UI\r\n        } catch (error) {\r\n            console.error('Admin: Error deleting user:', error);\r\n            const errorMessage = error.response && error.response.data.message\r\n                ? error.response.data.message\r\n                : error.message;\r\n            toast.error(`Admin: Failed to delete user: ${errorMessage}`);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (user && user.isAdmin) { // Only fetch users if user is identified as admin\r\n            fetchAllUsers();\r\n        }\r\n    }, [user, fetchAllUsers]);\r\n\r\n\r\n    if (loading || usersLoading) { // Combine overall loading with users loading\r\n        return <div className=\"status-message\">Loading dashboard...</div>;\r\n    }\r\n\r\n    if (error || usersError) { // Combine overall errors with users errors\r\n        return <div className=\"status-message error-message\">Error: {error || usersError}</div>;\r\n    }\r\n\r\n    if (!user || !user.isAdmin) {\r\n        return <div className=\"status-message error-message\">Access Denied.</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"admin-dashboard-container\">\r\n            <h1 className=\"page-heading\">Admin Dashboard</h1>\r\n            <p className=\"status-message\">Welcome, Administrator {user.username}!</p>\r\n\r\n            <div className=\"dashboard-sections\">\r\n                <section className=\"dashboard-section user-management-section\">\r\n                    <h2 className=\"section-heading\">User Management</h2>\r\n                    {users.length === 0 ? (\r\n                        <p className=\"status-message\">No users found.</p>\r\n                    ) : (\r\n                        <div className=\"admin-table-container\">\r\n                            <table className=\"admin-table\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>ID</th>\r\n                                        <th>Username</th>\r\n                                        <th>Email</th>\r\n                                        <th>Admin</th>\r\n                                        <th>Actions</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {users.map(u => (\r\n                                        <tr key={u._id}>\r\n                                            <td>{u._id}</td>\r\n                                            <td>{u.username}</td>\r\n                                            <td>{u.email}</td>\r\n                                            <td>{u.isAdmin ? 'Yes' : 'No'}</td>\r\n                                            <td>\r\n                                                {u._id === user._id ? (\r\n                                                    <span className=\"admin-cannot-delete\">Cannot Delete Self</span>\r\n                                                ) : (\r\n                                                    <button\r\n                                                        onClick={() => handleDeleteUser(u._id)}\r\n                                                        className=\"btn btn-danger btn-sm\"\r\n                                                    >\r\n                                                        Delete\r\n                                                    </button>\r\n                                                )}\r\n                                            </td>\r\n                                        </tr>\r\n                                    ))}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    )}\r\n                </section>\r\n\r\n                <section className=\"dashboard-section book-management-section\">\r\n                    <h2 className=\"section-heading\">Book Management</h2>\r\n                    <p>List of all books (including unavailable) and controls will go here.</p>\r\n                    {/* Placeholder for Book List Table/Component */}\r\n                </section>\r\n\r\n                <section className=\"dashboard-section exchange-management-section\">\r\n                    <h2 className=\"section-heading\">Exchange Management</h2>\r\n                    <p>Manage all exchange requests, including pending and disputes.</p>\r\n                    {/* Placeholder for Exchange List Table/Component */}\r\n                </section>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AdminDashboardPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}