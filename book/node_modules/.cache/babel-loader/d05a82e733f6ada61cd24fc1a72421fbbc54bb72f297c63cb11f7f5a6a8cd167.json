{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\itach\\\\Documents\\\\book-exchange-mern\\\\frontend\\\\src\\\\pages\\\\AdminDashboardPage.js\",\n  _s = $RefreshSig$();\n// frontend/src/pages/AdminDashboardPage.js\nimport React, { useEffect, useState, useCallback } from 'react';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport '../App.css'; // For page-heading, status-message\nimport './AdminDashboard.css'; // We'll create this soon\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AdminDashboardPage() {\n  _s();\n  const {\n    user,\n    token,\n    isAuthenticated\n  } = useAuth();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    // Redirect if not authenticated or not an admin\n    if (!isAuthenticated) {\n      navigate('/login'); // Not logged in\n    } else if (!user.isAdmin) {\n      navigate('/'); // Logged in but not admin\n      toast.error('You are not authorized to view this page.');\n    }\n    setLoading(false); // Page content will load conditionally later\n  }, [isAuthenticated, user, navigate]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"status-message\",\n      children: \"Loading dashboard...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 16\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"status-message error-message\",\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 16\n    }, this);\n  }\n  if (!user || !user.isAdmin) {\n    // This state should ideally be caught by useEffect redirect\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"status-message error-message\",\n      children: \"Access Denied.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"page-heading\",\n      children: \"Admin Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"status-message\",\n      children: [\"Welcome, Administrator \", user.username, \"!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-sections\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"dashboard-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-heading\",\n          children: \"User Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"List of all users and controls will go here.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"dashboard-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-heading\",\n          children: \"Book Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"List of all books (including unavailable) and controls will go here.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"dashboard-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-heading\",\n          children: \"Exchange Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Manage all exchange requests, including pending and disputes.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n}\n_s(AdminDashboardPage, \"OkPxT0VifHBex3dtsqlrgcthq8k=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = AdminDashboardPage;\nexport default AdminDashboardPage;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboardPage\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","axios","toast","useAuth","useNavigate","jsxDEV","_jsxDEV","AdminDashboardPage","_s","user","token","isAuthenticated","navigate","loading","setLoading","error","setError","isAdmin","className","children","fileName","_jsxFileName","lineNumber","columnNumber","username","_c","$RefreshReg$"],"sources":["C:/Users/itach/Documents/book-exchange-mern/frontend/src/pages/AdminDashboardPage.js"],"sourcesContent":["// frontend/src/pages/AdminDashboardPage.js\r\nimport React, { useEffect, useState, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport '../App.css'; // For page-heading, status-message\r\nimport './AdminDashboard.css'; // We'll create this soon\r\n\r\nfunction AdminDashboardPage() {\r\n    const { user, token, isAuthenticated } = useAuth();\r\n    const navigate = useNavigate();\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        // Redirect if not authenticated or not an admin\r\n        if (!isAuthenticated) {\r\n            navigate('/login'); // Not logged in\r\n        } else if (!user.isAdmin) {\r\n            navigate('/'); // Logged in but not admin\r\n            toast.error('You are not authorized to view this page.');\r\n        }\r\n        setLoading(false); // Page content will load conditionally later\r\n    }, [isAuthenticated, user, navigate]);\r\n\r\n\r\n    if (loading) {\r\n        return <div className=\"status-message\">Loading dashboard...</div>;\r\n    }\r\n\r\n    if (error) {\r\n        return <div className=\"status-message error-message\">Error: {error}</div>;\r\n    }\r\n\r\n    if (!user || !user.isAdmin) {\r\n        // This state should ideally be caught by useEffect redirect\r\n        return <div className=\"status-message error-message\">Access Denied.</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"admin-dashboard-container\">\r\n            <h1 className=\"page-heading\">Admin Dashboard</h1>\r\n            <p className=\"status-message\">Welcome, Administrator {user.username}!</p>\r\n\r\n            <div className=\"dashboard-sections\">\r\n                <section className=\"dashboard-section\">\r\n                    <h2 className=\"section-heading\">User Management</h2>\r\n                    <p>List of all users and controls will go here.</p>\r\n                    {/* Placeholder for User List Table/Component */}\r\n                </section>\r\n\r\n                <section className=\"dashboard-section\">\r\n                    <h2 className=\"section-heading\">Book Management</h2>\r\n                    <p>List of all books (including unavailable) and controls will go here.</p>\r\n                    {/* Placeholder for Book List Table/Component */}\r\n                </section>\r\n\r\n                <section className=\"dashboard-section\">\r\n                    <h2 className=\"section-heading\">Exchange Management</h2>\r\n                    <p>Manage all exchange requests, including pending and disputes.</p>\r\n                    {/* Placeholder for Exchange List Table/Component */}\r\n                </section>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AdminDashboardPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}