{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\itach\\\\Documents\\\\book-exchange-mern\\\\frontend\\\\src\\\\pages\\\\AdminDashboardPage.js\",\n  _s = $RefreshSig$();\n// frontend/src/pages/AdminDashboardPage.js\nimport React, { useEffect, useState, useCallback } from 'react';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useNavigate, Link } from 'react-router-dom'; // Import Link for exchange details\nimport '../App.css'; // For page-heading, status-message\nimport './AdminDashboard.css'; // We'll update this for styling\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AdminDashboardPage() {\n  _s();\n  const {\n    user,\n    token,\n    isAuthenticated\n  } = useAuth();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // User Management States\n  const [users, setUsers] = useState([]);\n  const [usersLoading, setUsersLoading] = useState(true);\n  const [usersError, setUsersError] = useState(null);\n\n  // Book Management States\n  const [books, setBooks] = useState([]);\n  const [booksLoading, setBooksLoading] = useState(true);\n  const [booksError, setBooksError] = useState(null);\n\n  // Exchange Management States <--- NEW STATES\n  const [exchanges, setExchanges] = useState([]);\n  const [exchangesLoading, setExchangesLoading] = useState(true);\n  const [exchangesError, setExchangesError] = useState(null);\n  const validExchangeStatuses = ['Pending', 'Accepted', 'Declined', 'Cancelled', 'Completed'];\n  useEffect(() => {\n    // Redirect if not authenticated or not an admin\n    if (!isAuthenticated) {\n      navigate('/login'); // Not logged in\n      toast.error('Please log in to view this page.');\n    } else if (!user || !user.isAdmin) {\n      navigate('/'); // Logged in but not admin\n      toast.error('You are not authorized to view this page.');\n    }\n    setLoading(false); // Initial page loading state is done after checks\n  }, [isAuthenticated, user, navigate]);\n\n  // Fetch All Users Function (existing)\n  const fetchAllUsers = useCallback(async () => {\n    if (!token || !user || !user.isAdmin) {\n      setUsersLoading(false);\n      setUsersError('Not authorized.');\n      return;\n    }\n    setUsersLoading(true);\n    try {\n      const config = {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      };\n      const {\n        data\n      } = await axios.get('/api/admin/users', config);\n      setUsers(data);\n      setUsersLoading(false);\n    } catch (err) {\n      console.error('Admin: Error fetching all users:', err);\n      const errorMessage = err.response && err.response.data.message ? err.response.data.message : err.message;\n      setUsersError(`Failed to load users: ${errorMessage}`);\n      toast.error(`Admin: Failed to load users: ${errorMessage}`);\n      setUsersLoading(false);\n    }\n  }, [token, user]);\n\n  // Delete User Function (existing)\n  const handleDeleteUser = async userIdToDelete => {\n    if (!window.confirm('Are you sure you want to delete this user and all their associated data? This action cannot be undone.')) {\n      return;\n    }\n    if (!token || !user || !user.isAdmin) {\n      toast.error('Not authorized to delete users.');\n      return;\n    }\n    try {\n      const config = {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      };\n      await axios.delete(`/api/admin/users/${userIdToDelete}`, config);\n      toast.success('User deleted successfully!');\n      fetchAllUsers(); // Re-fetch the list to update UI\n      // Also re-fetch books and exchanges as their owners/books might be gone\n      fetchAllBooks();\n      fetchAllExchanges();\n    } catch (error) {\n      console.error('Admin: Error deleting user:', error);\n      const errorMessage = error.response && error.response.data.message ? error.response.data.message : error.message;\n      toast.error(`Admin: Failed to delete user: ${errorMessage}`);\n    }\n  };\n\n  // Fetch All Books Function (existing)\n  const fetchAllBooks = useCallback(async () => {\n    if (!token || !user || !user.isAdmin) {\n      setBooksLoading(false);\n      setBooksError('Not authorized.');\n      return;\n    }\n    setBooksLoading(true);\n    try {\n      const config = {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      };\n      const {\n        data\n      } = await axios.get('/api/admin/books', config);\n      setBooks(data);\n      setBooksLoading(false);\n    } catch (err) {\n      console.error('Admin: Error fetching all books:', err);\n      const errorMessage = err.response && err.response.data.message ? err.response.data.message : err.message;\n      setBooksError(`Failed to load books: ${errorMessage}`);\n      toast.error(`Admin: Failed to load books: ${errorMessage}`);\n      setBooksLoading(false);\n    }\n  }, [token, user]);\n\n  // Delete Book Function (existing)\n  const handleDeleteBook = async bookIdToDelete => {\n    if (!window.confirm('Are you sure you want to delete this book and all associated exchange requests, messages, etc.? This action cannot be undone.')) {\n      return;\n    }\n    if (!token || !user || !user.isAdmin) {\n      toast.error('Not authorized to delete books.');\n      return;\n    }\n    try {\n      const config = {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      };\n      await axios.delete(`/api/admin/books/${bookIdToDelete}`, config);\n      toast.success('Book deleted successfully!');\n      fetchAllBooks(); // Re-fetch the list to update UI\n      // Also re-fetch exchanges as the book might be gone\n      fetchAllExchanges();\n    } catch (error) {\n      console.error('Admin: Error deleting book:', error);\n      const errorMessage = error.response && error.response.data.message ? error.response.data.message : error.message;\n      toast.error(`Admin: Failed to delete book: ${errorMessage}`);\n    }\n  };\n\n  // <--- NEW: Fetch All Exchanges Function ---\n  const fetchAllExchanges = useCallback(async () => {\n    if (!token || !user || !user.isAdmin) {\n      setExchangesLoading(false);\n      setExchangesError('Not authorized.');\n      return;\n    }\n    setExchangesLoading(true);\n    try {\n      const config = {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      };\n      const {\n        data\n      } = await axios.get('/api/admin/exchanges', config);\n      setExchanges(data);\n      setExchangesLoading(false);\n    } catch (err) {\n      console.error('Admin: Error fetching all exchanges:', err);\n      const errorMessage = err.response && err.response.data.message ? err.response.data.message : err.message;\n      setExchangesError(`Failed to load exchanges: ${errorMessage}`);\n      toast.error(`Admin: Failed to load exchanges: ${errorMessage}`);\n      setExchangesLoading(false);\n    }\n  }, [token, user]);\n\n  // <--- NEW: Update Exchange Status Function (Admin action) ---\n  const handleUpdateExchangeStatus = async (exchangeId, newStatus) => {\n    if (!window.confirm(`Are you sure you want to set this exchange status to \"${newStatus}\"? This may affect book availability.`)) {\n      return;\n    }\n    if (!token || !user || !user.isAdmin) {\n      toast.error('Not authorized to update exchange status.');\n      return;\n    }\n    try {\n      const config = {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      };\n      await axios.put(`/api/admin/exchanges/${exchangeId}/status`, {\n        status: newStatus\n      }, config);\n      toast.success(`Exchange status updated to \"${newStatus}\"!`);\n      fetchAllExchanges(); // Re-fetch the list to update UI\n      fetchAllBooks(); // Books status might change after exchange update\n    } catch (error) {\n      console.error('Admin: Error updating exchange status:', error);\n      const errorMessage = error.response && error.response.data.message ? error.response.data.message : error.message;\n      toast.error(`Admin: Failed to update exchange status: ${errorMessage}`);\n    }\n  };\n  useEffect(() => {\n    if (user && user.isAdmin) {\n      fetchAllUsers();\n      fetchAllBooks();\n      fetchAllExchanges(); // <--- NEW: Fetch exchanges when admin dashboard loads\n    }\n  }, [user, fetchAllUsers, fetchAllBooks, fetchAllExchanges]);\n  if (loading || usersLoading || booksLoading || exchangesLoading) {\n    // Combine all loading states\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"status-message\",\n      children: \"Loading dashboard...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 16\n    }, this);\n  }\n  if (error || usersError || booksError || exchangesError) {\n    // Combine all error states\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"status-message error-message\",\n      children: [\"Error: \", error || usersError || booksError || exchangesError]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 16\n    }, this);\n  }\n  if (!user || !user.isAdmin) {\n    // Final check after loading\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"status-message error-message\",\n      children: \"Access Denied.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"page-heading\",\n      children: \"Admin Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"status-message\",\n      children: [\"Welcome, Administrator \", user.username, \"!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-sections\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"dashboard-section user-management-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-heading\",\n          children: \"User Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 21\n        }, this), users.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"status-message\",\n          children: \"No users found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"admin-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Username\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Admin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: users.map(u => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: u._id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: u.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: u.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: u.isAdmin ? 'Yes' : 'No'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: u._id === user._id ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"admin-cannot-delete\",\n                    children: \"Cannot Delete Self\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 53\n                  }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleDeleteUser(u._id),\n                    className: \"btn btn-danger btn-sm\",\n                    children: \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 45\n                }, this)]\n              }, u._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 41\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"dashboard-section book-management-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-heading\",\n          children: \"Book Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 21\n        }, this), books.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"status-message\",\n          children: \"No books found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"admin-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Title\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Author\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Owner\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: books.map(b => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: b._id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: b.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: b.author\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: b.owner ? b.owner.username : 'Unknown'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: b.availabilityStatus\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleDeleteBook(b._id),\n                    className: \"btn btn-danger btn-sm\",\n                    children: \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 289,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 45\n                }, this)]\n              }, b._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 41\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"dashboard-section exchange-management-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-heading\",\n          children: \"Exchange Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 21\n        }, this), exchanges.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"status-message\",\n          children: \"No exchange requests found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"admin-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Requester\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Owner\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Requested Book\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Offered Book\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: exchanges.map(ex => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: `/exchanges/${ex._id}`,\n                    className: \"admin-link-id\",\n                    children: [ex._id.substring(0, 6), \"...\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 328,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: ex.requester ? ex.requester.username : 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: ex.owner ? ex.owner.username : 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: ex.requestedBook ? ex.requestedBook.title : 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: ex.offeredBook ? ex.offeredBook.title : 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: ex.status,\n                    onChange: e => handleUpdateExchangeStatus(ex._id, e.target.value),\n                    className: \"admin-status-select\",\n                    children: validExchangeStatuses.map(status => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: status,\n                      children: status\n                    }, status, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 343,\n                      columnNumber: 57\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 337,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: `/exchanges/${ex._id}`,\n                    className: \"btn btn-info btn-sm\",\n                    children: \"View\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 45\n                }, this)]\n              }, ex._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 41\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 215,\n    columnNumber: 9\n  }, this);\n}\n_s(AdminDashboardPage, \"cg2fOz84DVOr6O6dZxjrxuFrmxs=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = AdminDashboardPage;\nexport default AdminDashboardPage;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboardPage\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","axios","toast","useAuth","useNavigate","Link","jsxDEV","_jsxDEV","AdminDashboardPage","_s","user","token","isAuthenticated","navigate","loading","setLoading","error","setError","users","setUsers","usersLoading","setUsersLoading","usersError","setUsersError","books","setBooks","booksLoading","setBooksLoading","booksError","setBooksError","exchanges","setExchanges","exchangesLoading","setExchangesLoading","exchangesError","setExchangesError","validExchangeStatuses","isAdmin","fetchAllUsers","config","headers","Authorization","data","get","err","console","errorMessage","response","message","handleDeleteUser","userIdToDelete","window","confirm","delete","success","fetchAllBooks","fetchAllExchanges","handleDeleteBook","bookIdToDelete","handleUpdateExchangeStatus","exchangeId","newStatus","put","status","className","children","fileName","_jsxFileName","lineNumber","columnNumber","username","length","map","u","_id","email","onClick","b","title","author","owner","availabilityStatus","ex","to","substring","requester","requestedBook","offeredBook","value","onChange","e","target","_c","$RefreshReg$"],"sources":["C:/Users/itach/Documents/book-exchange-mern/frontend/src/pages/AdminDashboardPage.js"],"sourcesContent":["// frontend/src/pages/AdminDashboardPage.js\r\nimport React, { useEffect, useState, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { useNavigate, Link } from 'react-router-dom'; // Import Link for exchange details\r\nimport '../App.css'; // For page-heading, status-message\r\nimport './AdminDashboard.css'; // We'll update this for styling\r\n\r\nfunction AdminDashboardPage() {\r\n    const { user, token, isAuthenticated } = useAuth();\r\n    const navigate = useNavigate();\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    // User Management States\r\n    const [users, setUsers] = useState([]);\r\n    const [usersLoading, setUsersLoading] = useState(true);\r\n    const [usersError, setUsersError] = useState(null);\r\n\r\n    // Book Management States\r\n    const [books, setBooks] = useState([]);\r\n    const [booksLoading, setBooksLoading] = useState(true);\r\n    const [booksError, setBooksError] = useState(null);\r\n\r\n    // Exchange Management States <--- NEW STATES\r\n    const [exchanges, setExchanges] = useState([]);\r\n    const [exchangesLoading, setExchangesLoading] = useState(true);\r\n    const [exchangesError, setExchangesError] = useState(null);\r\n    const validExchangeStatuses = ['Pending', 'Accepted', 'Declined', 'Cancelled', 'Completed'];\r\n\r\n\r\n    useEffect(() => {\r\n        // Redirect if not authenticated or not an admin\r\n        if (!isAuthenticated) {\r\n            navigate('/login'); // Not logged in\r\n            toast.error('Please log in to view this page.');\r\n        } else if (!user || !user.isAdmin) {\r\n            navigate('/'); // Logged in but not admin\r\n            toast.error('You are not authorized to view this page.');\r\n        }\r\n        setLoading(false); // Initial page loading state is done after checks\r\n    }, [isAuthenticated, user, navigate]);\r\n\r\n    // Fetch All Users Function (existing)\r\n    const fetchAllUsers = useCallback(async () => {\r\n        if (!token || !user || !user.isAdmin) {\r\n            setUsersLoading(false);\r\n            setUsersError('Not authorized.');\r\n            return;\r\n        }\r\n        setUsersLoading(true);\r\n        try {\r\n            const config = { headers: { Authorization: `Bearer ${token}` } };\r\n            const { data } = await axios.get('/api/admin/users', config);\r\n            setUsers(data);\r\n            setUsersLoading(false);\r\n        } catch (err) {\r\n            console.error('Admin: Error fetching all users:', err);\r\n            const errorMessage = err.response && err.response.data.message\r\n                ? err.response.data.message\r\n                : err.message;\r\n            setUsersError(`Failed to load users: ${errorMessage}`);\r\n            toast.error(`Admin: Failed to load users: ${errorMessage}`);\r\n            setUsersLoading(false);\r\n        }\r\n    }, [token, user]);\r\n\r\n    // Delete User Function (existing)\r\n    const handleDeleteUser = async (userIdToDelete) => {\r\n        if (!window.confirm('Are you sure you want to delete this user and all their associated data? This action cannot be undone.')) {\r\n            return;\r\n        }\r\n        if (!token || !user || !user.isAdmin) {\r\n            toast.error('Not authorized to delete users.');\r\n            return;\r\n        }\r\n        try {\r\n            const config = { headers: { Authorization: `Bearer ${token}` } };\r\n            await axios.delete(`/api/admin/users/${userIdToDelete}`, config);\r\n            toast.success('User deleted successfully!');\r\n            fetchAllUsers(); // Re-fetch the list to update UI\r\n            // Also re-fetch books and exchanges as their owners/books might be gone\r\n            fetchAllBooks();\r\n            fetchAllExchanges();\r\n        } catch (error) {\r\n            console.error('Admin: Error deleting user:', error);\r\n            const errorMessage = error.response && error.response.data.message\r\n                ? error.response.data.message\r\n                : error.message;\r\n            toast.error(`Admin: Failed to delete user: ${errorMessage}`);\r\n        }\r\n    };\r\n\r\n    // Fetch All Books Function (existing)\r\n    const fetchAllBooks = useCallback(async () => {\r\n        if (!token || !user || !user.isAdmin) {\r\n            setBooksLoading(false);\r\n            setBooksError('Not authorized.');\r\n            return;\r\n        }\r\n        setBooksLoading(true);\r\n        try {\r\n            const config = { headers: { Authorization: `Bearer ${token}` } };\r\n            const { data } = await axios.get('/api/admin/books', config);\r\n            setBooks(data);\r\n            setBooksLoading(false);\r\n        } catch (err) {\r\n            console.error('Admin: Error fetching all books:', err);\r\n            const errorMessage = err.response && err.response.data.message\r\n                ? err.response.data.message\r\n                : err.message;\r\n            setBooksError(`Failed to load books: ${errorMessage}`);\r\n            toast.error(`Admin: Failed to load books: ${errorMessage}`);\r\n            setBooksLoading(false);\r\n        }\r\n    }, [token, user]);\r\n\r\n    // Delete Book Function (existing)\r\n    const handleDeleteBook = async (bookIdToDelete) => {\r\n        if (!window.confirm('Are you sure you want to delete this book and all associated exchange requests, messages, etc.? This action cannot be undone.')) {\r\n            return;\r\n        }\r\n        if (!token || !user || !user.isAdmin) {\r\n            toast.error('Not authorized to delete books.');\r\n            return;\r\n        }\r\n        try {\r\n            const config = { headers: { Authorization: `Bearer ${token}` } };\r\n            await axios.delete(`/api/admin/books/${bookIdToDelete}`, config);\r\n            toast.success('Book deleted successfully!');\r\n            fetchAllBooks(); // Re-fetch the list to update UI\r\n            // Also re-fetch exchanges as the book might be gone\r\n            fetchAllExchanges();\r\n        } catch (error) {\r\n            console.error('Admin: Error deleting book:', error);\r\n            const errorMessage = error.response && error.response.data.message\r\n                ? error.response.data.message\r\n                : error.message;\r\n            toast.error(`Admin: Failed to delete book: ${errorMessage}`);\r\n        }\r\n    };\r\n\r\n    // <--- NEW: Fetch All Exchanges Function ---\r\n    const fetchAllExchanges = useCallback(async () => {\r\n        if (!token || !user || !user.isAdmin) {\r\n            setExchangesLoading(false);\r\n            setExchangesError('Not authorized.');\r\n            return;\r\n        }\r\n        setExchangesLoading(true);\r\n        try {\r\n            const config = { headers: { Authorization: `Bearer ${token}` } };\r\n            const { data } = await axios.get('/api/admin/exchanges', config);\r\n            setExchanges(data);\r\n            setExchangesLoading(false);\r\n        } catch (err) {\r\n            console.error('Admin: Error fetching all exchanges:', err);\r\n            const errorMessage = err.response && err.response.data.message\r\n                ? err.response.data.message\r\n                : err.message;\r\n            setExchangesError(`Failed to load exchanges: ${errorMessage}`);\r\n            toast.error(`Admin: Failed to load exchanges: ${errorMessage}`);\r\n            setExchangesLoading(false);\r\n        }\r\n    }, [token, user]);\r\n\r\n    // <--- NEW: Update Exchange Status Function (Admin action) ---\r\n    const handleUpdateExchangeStatus = async (exchangeId, newStatus) => {\r\n        if (!window.confirm(`Are you sure you want to set this exchange status to \"${newStatus}\"? This may affect book availability.`)) {\r\n            return;\r\n        }\r\n        if (!token || !user || !user.isAdmin) {\r\n            toast.error('Not authorized to update exchange status.');\r\n            return;\r\n        }\r\n        try {\r\n            const config = { headers: { Authorization: `Bearer ${token}` } };\r\n            await axios.put(`/api/admin/exchanges/${exchangeId}/status`, { status: newStatus }, config);\r\n            toast.success(`Exchange status updated to \"${newStatus}\"!`);\r\n            fetchAllExchanges(); // Re-fetch the list to update UI\r\n            fetchAllBooks(); // Books status might change after exchange update\r\n        } catch (error) {\r\n            console.error('Admin: Error updating exchange status:', error);\r\n            const errorMessage = error.response && error.response.data.message\r\n                ? error.response.data.message\r\n                : error.message;\r\n            toast.error(`Admin: Failed to update exchange status: ${errorMessage}`);\r\n        }\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        if (user && user.isAdmin) {\r\n            fetchAllUsers();\r\n            fetchAllBooks();\r\n            fetchAllExchanges(); // <--- NEW: Fetch exchanges when admin dashboard loads\r\n        }\r\n    }, [user, fetchAllUsers, fetchAllBooks, fetchAllExchanges]);\r\n\r\n\r\n    if (loading || usersLoading || booksLoading || exchangesLoading) { // Combine all loading states\r\n        return <div className=\"status-message\">Loading dashboard...</div>;\r\n    }\r\n\r\n    if (error || usersError || booksError || exchangesError) { // Combine all error states\r\n        return <div className=\"status-message error-message\">Error: {error || usersError || booksError || exchangesError}</div>;\r\n    }\r\n\r\n    if (!user || !user.isAdmin) { // Final check after loading\r\n        return <div className=\"status-message error-message\">Access Denied.</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"admin-dashboard-container\">\r\n            <h1 className=\"page-heading\">Admin Dashboard</h1>\r\n            <p className=\"status-message\">Welcome, Administrator {user.username}!</p>\r\n\r\n            <div className=\"dashboard-sections\">\r\n                <section className=\"dashboard-section user-management-section\">\r\n                    <h2 className=\"section-heading\">User Management</h2>\r\n                    {users.length === 0 ? (\r\n                        <p className=\"status-message\">No users found.</p>\r\n                    ) : (\r\n                        <div className=\"admin-table-container\">\r\n                            <table className=\"admin-table\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>ID</th>\r\n                                        <th>Username</th>\r\n                                        <th>Email</th>\r\n                                        <th>Admin</th>\r\n                                        <th>Actions</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {users.map(u => (\r\n                                        <tr key={u._id}>\r\n                                            <td>{u._id}</td>\r\n                                            <td>{u.username}</td>\r\n                                            <td>{u.email}</td>\r\n                                            <td>{u.isAdmin ? 'Yes' : 'No'}</td>\r\n                                            <td>\r\n                                                {u._id === user._id ? (\r\n                                                    <span className=\"admin-cannot-delete\">Cannot Delete Self</span>\r\n                                                ) : (\r\n                                                    <button\r\n                                                        onClick={() => handleDeleteUser(u._id)}\r\n                                                        className=\"btn btn-danger btn-sm\"\r\n                                                    >\r\n                                                        Delete\r\n                                                    </button>\r\n                                                )}\r\n                                            </td>\r\n                                        </tr>\r\n                                    ))}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    )}\r\n                </section>\r\n\r\n                <section className=\"dashboard-section book-management-section\">\r\n                    <h2 className=\"section-heading\">Book Management</h2>\r\n                    {books.length === 0 ? (\r\n                        <p className=\"status-message\">No books found.</p>\r\n                    ) : (\r\n                        <div className=\"admin-table-container\">\r\n                            <table className=\"admin-table\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>ID</th>\r\n                                        <th>Title</th>\r\n                                        <th>Author</th>\r\n                                        <th>Owner</th>\r\n                                        <th>Status</th>\r\n                                        <th>Actions</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {books.map(b => (\r\n                                        <tr key={b._id}>\r\n                                            <td>{b._id}</td>\r\n                                            <td>{b.title}</td>\r\n                                            <td>{b.author}</td>\r\n                                            <td>{b.owner ? b.owner.username : 'Unknown'}</td>\r\n                                            <td>{b.availabilityStatus}</td>\r\n                                            <td>\r\n                                                <button\r\n                                                    onClick={() => handleDeleteBook(b._id)}\r\n                                                    className=\"btn btn-danger btn-sm\"\r\n                                                >\r\n                                                    Delete\r\n                                                </button>\r\n                                                {/* Add Edit button later */}\r\n                                            </td>\r\n                                        </tr>\r\n                                    ))}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    )}\r\n                </section>\r\n\r\n                {/* NEW: Exchange Management Section */}\r\n                <section className=\"dashboard-section exchange-management-section\">\r\n                    <h2 className=\"section-heading\">Exchange Management</h2>\r\n                    {exchanges.length === 0 ? (\r\n                        <p className=\"status-message\">No exchange requests found.</p>\r\n                    ) : (\r\n                        <div className=\"admin-table-container\">\r\n                            <table className=\"admin-table\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>ID</th>\r\n                                        <th>Requester</th>\r\n                                        <th>Owner</th>\r\n                                        <th>Requested Book</th>\r\n                                        <th>Offered Book</th>\r\n                                        <th>Status</th>\r\n                                        <th>Actions</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {exchanges.map(ex => (\r\n                                        <tr key={ex._id}>\r\n                                            <td>\r\n                                                <Link to={`/exchanges/${ex._id}`} className=\"admin-link-id\">\r\n                                                    {ex._id.substring(0, 6)}...\r\n                                                </Link>\r\n                                            </td>\r\n                                            <td>{ex.requester ? ex.requester.username : 'N/A'}</td>\r\n                                            <td>{ex.owner ? ex.owner.username : 'N/A'}</td>\r\n                                            <td>{ex.requestedBook ? ex.requestedBook.title : 'N/A'}</td>\r\n                                            <td>{ex.offeredBook ? ex.offeredBook.title : 'N/A'}</td>\r\n                                            <td>\r\n                                                <select\r\n                                                    value={ex.status}\r\n                                                    onChange={(e) => handleUpdateExchangeStatus(ex._id, e.target.value)}\r\n                                                    className=\"admin-status-select\"\r\n                                                >\r\n                                                    {validExchangeStatuses.map(status => (\r\n                                                        <option key={status} value={status}>{status}</option>\r\n                                                    ))}\r\n                                                </select>\r\n                                            </td>\r\n                                            <td>\r\n                                                {/* Optionally add a direct delete button if needed, but status update is primary */}\r\n                                                <Link to={`/exchanges/${ex._id}`} className=\"btn btn-info btn-sm\">\r\n                                                    View\r\n                                                </Link>\r\n                                            </td>\r\n                                        </tr>\r\n                                    ))}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    )}\r\n                </section>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AdminDashboardPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}